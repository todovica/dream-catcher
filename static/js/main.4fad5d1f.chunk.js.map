{"version":3,"sources":["resources/background.png","js/constants/action-types.js","js/reducers/index.js","js/middleware/index.js","js/store/index.js","js/actions/index.js","js/components/DialogComponents.js","js/components/StoryContent.js","js/components/CustomizedDialog.js","js/components/List.js","js/components/ConfirmPage.js","js/components/Copyright.js","js/components/EditDialog.js","js/components/App.js","index.js"],"names":["module","exports","ADD_ARTICLE","DATA_LOADED","initialState","articles","update_id","rootReducer","state","action","type","Object","assign","concat","payload","id","forbiddenWords","store","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","dispatch","next","filter","word","title","includes","length","thunk","getStories","fetch","then","response","json","DialogTitle","withStyles","theme","root","margin","padding","spacing","marginRight","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","aria-label","onClick","DialogContent","minWidth","MuiDialogContent","DialogActions","MuiDialogActions","useStyles","makeStyles","button","input","display","StoryContent","convertedState","EditorState","createWithContent","convertFromRaw","content","value","getCurrentContent","Box","main","component","editorState","onChange","card","maxWidth","boxShadow","background","onhover","cursor","width","maxHeight","overflow","CustomizedDialog","useTheme","fullScreen","useMediaQuery","breakpoints","down","React","useState","open","setOpen","handleClickOpen","handleClose","Card","CardHeader","subheader","date","CardContent","blocks","text","substr","Dialog","aria-labelledby","fontSize","dividers","author","connect","slice","Grid","container","map","el","key","item","sm","md","direction","justify","alignItems","CircularProgress","confirm","marginTop","paddingTop","email","console","log","requestOptions","method","headers","body","JSON","stringify","match","params","a","find","_id","Button","href","backgroundColor","Copyright","align","Link","Date","getFullYear","fab","editorContainer","height","previewContainer","instructions","marginBottom","dialogTitle","Form","addArticle","article","activeStep","setActiveStep","Set","skipped","setSkipped","steps","localStorageContent","localStorage","getItem","setTitle","setDate","parse","createEmpty","editorContent","setEditorContent","setEmail","setAuthor","titleError","setTitleError","emailError","setEmailError","authorError","setAuthorError","setItem","convertToRaw","handleChange","event","target","error","isStepOptional","step","isStepSkipped","has","Fab","Stepper","label","index","stepProps","labelProps","optional","completed","Step","StepLabel","style","FormControl","fullWidth","TextField","helperText","placeholder","getStepContent","disabled","prevActiveStep","Error","prevSkipped","newSkipped","values","add","preventDefault","toLocaleDateString","alert","delete","createMuiTheme","primary","secondary","flexGrow","minHeight","start","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","paddingBottom","zoom","bottom","titleFont","fontStyle","fontWeight","borderRadius","ScrollTop","trigger","useScrollTrigger","undefined","disableHysteresis","threshold","Zoom","in","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","App","CssBaseline","Toolbar","EditDialog","Container","exact","path","ConfirmPage","List","from","to","render","getElementById"],"mappings":"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","file":"static/js/main.4fad5d1f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.73fb1baa.png\";","export const ADD_ARTICLE = \"ADD_ARTICLE\";\r\nexport const DATA_LOADED = \"DATA_LOADED\";\r\n","import { ADD_ARTICLE, DATA_LOADED } from \"../constants/action-types\";\r\n\r\nconst initialState = {\r\n    articles: [],\r\n    update_id: null\r\n  };\r\n  \r\nfunction rootReducer(state = initialState, action) {\r\n  \r\n  if (action.type === ADD_ARTICLE) {\r\n    return Object.assign({}, state, {\r\n        articles: state.articles.concat(action.payload),\r\n        update_id: action.payload.id \r\n    });\r\n  }\r\n  if (action.type === DATA_LOADED) {\r\n    return Object.assign({}, state, {\r\n      articles: state.articles.concat(action.payload)\r\n    });\r\n  }\r\n  \r\n\r\n  return state;\r\n};\r\n\r\nexport default rootReducer;","import { ADD_ARTICLE } from \"../constants/action-types\";\r\n\r\n/*\r\nfunction exampleMiddleware({ getState, dispatch }) {\r\n  return function(next){\r\n    return function(action){\r\n      // do your stuff\r\n      return next(action);\r\n    }\r\n  }\r\n}\r\n*/\r\n\r\nconst forbiddenWords = [\"spam\", \"money\"];\r\n\r\nexport function forbiddenWordsMiddleware({ dispatch }) {\r\n  return function(next) {\r\n    return function(action) {\r\n      // do your stuff\r\n      if (action.type === ADD_ARTICLE) {\r\n        const foundWord = forbiddenWords.filter(word =>\r\n          action.payload.title.includes(word)\r\n        );\r\n        if (foundWord.length) {\r\n          return dispatch({ type: \"FOUND_BAD_WORD\" });\r\n        }\r\n      }\r\n      // always return next(action) in your middleware\r\n      // if not the application will stop, and no other action will reach the reducer.\r\n      return next(action);\r\n    };\r\n  };\r\n}","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\nimport { forbiddenWordsMiddleware } from \"../middleware\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n// enable redux dev tool\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(forbiddenWordsMiddleware, thunk)\r\n);\r\n\r\nexport default store;","import { ADD_ARTICLE, DATA_LOADED } from \"../constants/action-types\";\r\n\r\nexport function addArticle(payload) {\r\n  let title = payload.title;\r\n  let date = payload.date;\r\n  let content = payload.content;\r\n  let email = payload.email;\r\n  \r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ title, date, content, email })\r\n};\r\n\r\n  return function(dispatch) {\r\n    return fetch(`https://test-server-express-2.herokuapp.com/email/addArticle`, requestOptions)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        dispatch({ type: ADD_ARTICLE, payload: json });\r\n      });\r\n    }\r\n  };\r\n\r\n  \r\n\r\nexport function getStories() {\r\n  \r\n  return function(dispatch) {\r\n    return fetch(\"https://test-server-express-2.herokuapp.com/email/getStories\")\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        dispatch({ type: DATA_LOADED, payload: json });\r\n      });\r\n  }\r\n}\r\n\r\n\r\nexport function confirm(payload) {\r\n  let title = payload.title;\r\n  let date = payload.date;\r\n  let content = payload.content;\r\n  let email = payload.email;\r\n  \r\n  console.log(\" confirm(payload)\");\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ title, date, content, email })\r\n};\r\n\r\n  return function(dispatch) {\r\n    return fetch(`https://test-server-express-2.herokuapp.com/email/confirm`, requestOptions)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        console.log(\"updated\")\r\n        //dispatch({ type: ADD_ARTICLE, payload: json });\r\n      });\r\n    }\r\n  };","\r\nimport React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n      marginRight: '20px !important',\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n  \r\n  export const DialogTitle = withStyles(styles)(props => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        {onClose ? (\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        ) : null}\r\n      </MuiDialogTitle>\r\n    );\r\n  });\r\n  \r\n  export const DialogContent = withStyles(theme => ({\r\n    root: {\r\n      padding: theme.spacing(2),\r\n      '@media(min-width: 780px)' : {\r\n        minWidth: '600px !important'\r\n      }\r\n      \r\n    },\r\n  }))(MuiDialogContent);\r\n  \r\n  export const DialogActions = withStyles(theme => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(1),\r\n    },\r\n  }))(MuiDialogActions);","import React from \"react\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Editor, EditorState, convertFromRaw } from 'draft-js';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nfunction StoryContent(props) {\r\n\r\n  const classes = useStyles();\r\n  const convertedState = EditorState.createWithContent(convertFromRaw(props.content));\r\n  const value = EditorState.createWithContent(convertedState.getCurrentContent());\r\n    \r\n  return (\r\n    <Box className={classes.main}>\r\n      <Typography color=\"textSecondary\" component=\"div\">\r\n        <Editor editorState={value} onChange={()=>{}} />\r\n      </Typography>\r\n    </Box>\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default StoryContent;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport { DialogTitle, DialogContent, DialogActions } from './DialogComponents';\r\nimport StoryContent from \"./StoryContent\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 345,\r\n    boxShadow:' 0 1px 10px rgba(0,0,0,0.12), 0 1px 10px rgba(0,0,0,0.24)',\r\n    '&:hover': {\r\n      background: 'aliceblue',\r\n   },\r\n\r\n  },\r\n  onhover: {\r\n    '&:hover': {\r\n      cursor: 'pointer'\r\n   }\r\n   },\r\n  main: {\r\n    width: '700px',\r\n    maxHeight: '500px',\r\n    overflow: 'auto'\r\n  }\r\n}));\r\n\r\n\r\nexport default function CustomizedDialog(props) {\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card}>\r\n      <CardHeader onClick={handleClickOpen} className={classes.onhover}\r\n        action={\r\n          <IconButton aria-label=\"settings\">\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        }\r\n        title={props.title}\r\n        subheader={(!props.date) ? \"01/01/1979\" : props.date}\r\n      />\r\n      <CardContent onClick={handleClickOpen} className={classes.onhover}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.content.blocks[0].text.substr(0,150) + \"...\"}\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n      <Dialog fullScreen={fullScreen} onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        <Typography color=\"textSecondary\" component=\"div\">\r\n        <Box fontSize=\"h5.fontSize\">{props.title}</Box>\r\n        </Typography>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n        <StoryContent title={props.title} content={props.content} author={props.author} open={open} handleClose={handleClose} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getStories } from \"../actions/index\";\r\nimport CustomizedDialog from './CustomizedDialog';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    articles: state.articles.slice(0, 20)\r\n  };\r\n}\r\n    \r\n\r\nfunction List (props) {\r\n\r\n  if(!props.articles.length){\r\n    props.getStories();\r\n    return <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n             <CircularProgress color=\"secondary\" />\r\n           </Grid>;\r\n  }\r\n  \r\n  return <Grid container spacing={3}>\r\n    {props.articles.map(el => (\r\n      <Grid key={el.title} item sm={6} md={3}>\r\n        <CustomizedDialog title={el.title} date={el.date} content={el.content} author={el.author} />\r\n      </Grid>\r\n    ))}\r\n    </Grid>;\r\n\r\n}\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n  { getStories }\r\n)(List);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getStories, confirm } from \"../actions/index\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  confirm: {\r\n    marginTop: '20px',\r\n    paddingTop: '15px'\r\n  },\r\n}));\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    articles: state.articles.slice(0, 20)\r\n  };\r\n}\r\n\r\n\r\nfunction ConfirmPage (props) {\r\n  const classes = useStyles();\r\n  if(!props.articles.length) props.getStories();\r\n  const { id } = props.match.params;\r\n\r\n  let a = props.articles.find((a) => a._id===id);\r\n  if(a){\r\n    props.confirm(a);\r\n  }\r\n  \r\n  return <Grid container\r\n           direction=\"column\"\r\n           justify=\"center\"\r\n           alignItems=\"center\"\r\n           className={classes.confirm}>\r\n              {(props.articles.find((a) => a._id===id)) ? \r\n                <>\r\n                  <Typography variant=\"subtitle1\">Your story is uploaded to our server.</Typography> \r\n                  <Box><Button href=\"/dream-catcher\" color=\"primary\" className={classes.button}>Check it out</Button> </Box>\r\n                </> :\r\n                <>\r\n                  <Typography variant=\"subtitle1\">Are you sure this is the right link?</Typography> \r\n                  <Box><Button href=\"/dream-catcher\" color=\"primary\" className={classes.button}>Back</Button> </Box>\r\n                </>}\r\n         </Grid>;\r\n}\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { getStories, confirm }\r\n)(ConfirmPage);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    padding: '20px',\r\n    backgroundColor: '#5a5c8d',\r\n    boxShadow:' 0 1px 10px rgba(0,0,0,0.12), 0 1px 10px rgba(0,0,0,0.24)'\r\n  },\r\n}));\r\n\r\nexport default function Copyright() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Typography className={classes.root} variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://todovica.github.io/\">\r\n        Ana Todovic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addArticle } from \"../actions/index\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport {Editor, EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nimport StoryContent from \"./StoryContent\";\r\nimport { DialogTitle, DialogContent, DialogActions } from './DialogComponents';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addArticle: article => dispatch(addArticle(article))\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    articles: state.articles.slice(0, 10)\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fab: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  editorContainer: {\r\n    height: '250px',\r\n    overflow: 'auto'\r\n  },\r\n  previewContainer: {\r\n    height: '400px',\r\n    overflow: 'auto'\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  dialogTitle: {\r\n    '@media(max-width: 780px)' : {\r\n      padding: '24px 0 0 0 !important'\r\n    }\r\n  }\r\n}));\r\n\r\nfunction ConnectedForm(props) {\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const [skipped, setSkipped] = React.useState(new Set());\r\n  const steps = getSteps();\r\n  const localStorageContent = window.localStorage.getItem('content');\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [editorContent, setEditorContent] = useState((localStorageContent) ? EditorState.createWithContent(convertFromRaw(JSON.parse(localStorageContent))) : EditorState.createEmpty());\r\n  const [email, setEmail] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n\r\n  const [titleError, setTitleError] = useState(false);\r\n  const [contentError, setContentError] = useState(false);\r\n  const [emailError, setEmailError] = useState(false);\r\n  const [authorError, setAuthorError] = useState(false);\r\n  \r\n  function onChange(editorState) {\r\n    window.localStorage.setItem('content', JSON.stringify(convertToRaw(editorState.getCurrentContent())));\r\n    console.log('content state', convertToRaw(editorState.getCurrentContent()));\r\n    setEditorContent(editorState);\r\n\r\n  }\r\n\r\n  function handleChange(event) {\r\n    if(event.target.id==='title') {\r\n      setTitleError(false);\r\n      setTitle(event.target.value);\r\n    } else if(event.target.id==='email') {\r\n      setEmailError(false);\r\n      setEmail(event.target.value);\r\n    } else if(event.target.id==='author') {\r\n      setAuthorError(false);\r\n      setAuthor(event.target.value);\r\n    } else {\r\n      console.error(\"id not recognized\")\r\n    }\r\n\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    let date = new Date().toLocaleDateString();\r\n\r\n    if(!title || !email || !author) {\r\n      if(!title) setTitleError(\"Required\");\r\n      if(!email) setEmailError(\"Required\");\r\n      if(!author) setAuthorError(\"Required\");\r\n    } else if(props.articles.find((article) => article.title===title)) {\r\n      setTitleError(\"Title must be unique\");\r\n    } else { \r\n      window.localStorage.setItem('content', '');\r\n      props.addArticle({ title, date, content: convertToRaw(editorContent.getCurrentContent()), email, author });\r\n      setTitle(\"\");\r\n      setDate(\"\");\r\n      setEditorContent(EditorState.createEmpty());\r\n      setEmail(\"\");\r\n      setAuthor(\"\");\r\n      alert(\"Now your story will temporarily appear on our site. After you click on the link we have sent to your email, your story will be permanently on our site.\");\r\n      handleClose();\r\n    }\r\n    \r\n  }\r\n\r\n  function getSteps() {\r\n    return ['Write', 'Preview', 'Publish'];\r\n  }\r\n  \r\n  function getStepContent(step) {\r\n    switch (step) {\r\n      case 0:\r\n        return <FormControl fullWidth>\r\n                 <TextField id=\"title\" label=\"Title\" value={title} onChange={handleChange} margin=\"normal\" helperText={(titleError) ? titleError : \"\"} error={(titleError) ? true : false} />\r\n                 \r\n                     <Editor fullWidth editorState={editorContent} onChange={onChange} placeholder=\"Tell a story...\" />\r\n  \r\n               </FormControl>;\r\n      case 1:\r\n        return <StoryContent title={title} content={convertToRaw(editorContent.getCurrentContent())} author={author} />;\r\n      case 2:\r\n        return <FormControl fullWidth>\r\n                 <Typography className={classes.instructions}>\r\n                   Name of the author will be publicly visible. Use pseudonym or anything you like.\r\n                 </Typography>\r\n                 <Typography className={classes.instructions}>\r\n                   Email address will not appear in public. It will be used strictly for authentication.\r\n                 </Typography>\r\n                 <TextField id=\"email\" label=\"email\" value={email} onChange={handleChange} margin=\"normal\" helperText={(emailError) ? emailError : \"\"} error={(emailError) ? true : false} />\r\n                 <TextField id=\"author\" label=\"author\" value={author} onChange={handleChange} margin=\"normal\" helperText={(authorError) ? authorError : \"\"} error={(authorError) ? true : false} />\r\n               </FormControl>;\r\n      default:\r\n        return 'Unknown step';\r\n    }\r\n  }\r\n\r\n  const isStepOptional = step => {\r\n    return step === 1;\r\n  };\r\n\r\n  const isStepSkipped = step => {\r\n    return skipped.has(step);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    let newSkipped = skipped;\r\n    if (isStepSkipped(activeStep)) {\r\n      newSkipped = new Set(newSkipped.values());\r\n      newSkipped.delete(activeStep);\r\n    }\r\n\r\n    if(!activeStep && !title) {\r\n      if(!title) setTitleError(\"Required\");\r\n    } else if(!activeStep && props.articles.find((article) => article.title===title)) {\r\n      setTitleError(\"Title must be unique\");\r\n    }\r\n    else {\r\n      setActiveStep(prevActiveStep => prevActiveStep + 1);\r\n    }\r\n    setSkipped(newSkipped);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    if (!isStepOptional(activeStep)) {\r\n      // You probably want to guard against something like this,\r\n      // it should never occur unless someone's actively trying to break something.\r\n      throw new Error(\"You can't skip a step that isn't optional.\");\r\n    }\r\n\r\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\r\n    setSkipped(prevSkipped => {\r\n      const newSkipped = new Set(prevSkipped.values());\r\n      newSkipped.add(activeStep);\r\n      return newSkipped;\r\n    });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <Fab color=\"primary\" aria-label=\"add\" onClick={handleClickOpen} className={classes.fab}>\r\n        <AddIcon />\r\n      </Fab>\r\n      \r\n      <Dialog fullScreen={fullScreen} onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n      <DialogTitle id=\"customized-dialog-title\" className={classes.dialogTitle} onClose={handleClose}>\r\n      <Stepper activeStep={activeStep}>\r\n        {steps.map((label, index) => {\r\n          const stepProps = {};\r\n          const labelProps = {};\r\n          if (isStepOptional(index)) {\r\n            labelProps.optional = <Typography variant=\"caption\">Optional</Typography>;\r\n          }\r\n          if (isStepSkipped(index)) {\r\n            stepProps.completed = false;\r\n          }\r\n          return (\r\n            <Step key={label} {...stepProps}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      </DialogTitle>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            <Typography className={classes.instructions}> All steps completed - you&apos;re finished </Typography>\r\n            <Button onClick={handleReset} className={classes.button}> Reset </Button>\r\n          </div>\r\n        ) : (\r\n          <>\r\n          <DialogContent dividers>\r\n            <Grid style={{ height: '380px'}}>{getStepContent(activeStep)}</Grid>\r\n          </DialogContent>\r\n            <DialogActions>\r\n              <Button disabled={activeStep === 0} onClick={handleBack} className={classes.button}> Back </Button>\r\n              {isStepOptional(activeStep) && (\r\n                <Button variant=\"contained\" color=\"primary\" onClick={handleSkip} className={classes.button}>\r\n                  Skip\r\n                </Button>\r\n              )}\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={activeStep === steps.length - 1 ? handleSubmit : handleNext}\r\n                className={classes.button} > {activeStep === steps.length - 1 ? 'Publish' : 'Next'}\r\n              </Button>\r\n              </DialogActions>\r\n              </>\r\n        )}\r\n    </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Form = connect(mapStateToProps, mapDispatchToProps)(ConnectedForm);\r\n\r\nexport default Form;","// src/js/components/App.js\r\nimport React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom'\r\n\r\nimport List from \"./List\";\r\nimport ConfirmPage from \"./ConfirmPage\";\r\nimport backgroundImage from '../../resources/background.png'\r\nimport Copyright from './Copyright';\r\nimport EditDialog from './EditDialog';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport Zoom from '@material-ui/core/Zoom';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#655b7d' },\r\n    secondary: { main: '#f3f3f3' },\r\n  }\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    paddingTop: '40px',\r\n    marginBottom: '40px',\r\n    minHeight: '500px'\r\n  },\r\n  start: {\r\n    backgroundImage: `url(${backgroundImage})`,\r\n    backgroundSize: 'cover',                     \r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center center',\r\n    paddingTop: '100px',\r\n    paddingBottom: '160px',\r\n    backgroundColor: '#eeeeee',\r\n    boxShadow:' 0 1px 10px rgba(0,0,0,0.12), 0 1px 10px rgba(0,0,0,0.24)'\r\n  },\r\n  zoom: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontStyle: 'italic',\r\n    fontWeight: '400',\r\n    backgroundColor: '#f3f3f3',\r\n    borderRadius: '1em',\r\n    padding: '10px',\r\n    margin: '20px',\r\n    boxShadow:' 0 1px 10px rgba(0,0,0,0.12), 0 1px 10px rgba(0,0,0,0.24)'\r\n  }\r\n}));\r\n\r\n\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  const classes = useStyles();\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = event => {\r\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.zoom}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nScrollTop.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nfunction App(props) {\r\n  const classes = useStyles();\r\n  \r\n  return <MuiThemeProvider theme={theme}>\r\n           <CssBaseline />\r\n           <Grid container className={classes.start} direction=\"column\" justify=\"flex-start\" alignItems=\"center\" >\r\n           <Toolbar id=\"back-to-top-anchor\" />\r\n           <Typography variant=\"h6\" component=\"h5\" color='primary' className={classes.titleFont} > {'Journey begins with one step, a great story begins here.'} </Typography>\r\n           <EditDialog />\r\n           </Grid>\r\n           <Container className={classes.root}>\r\n           <BrowserRouter>  \r\n             <Switch>\r\n               <Route exact path='/dream-catcher/confirm/:id' component={ConfirmPage} />\r\n               <Route exact path='/dream-catcher' component={List} />\r\n               <Redirect from='*' to='/dream-catcher'/>\r\n             </Switch>\r\n           </BrowserRouter>\r\n\r\n           </Container>\r\n           <Copyright />\r\n           <ScrollTop {...props}>\r\n           <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" >\r\n             <Fab color=\"secondary\" aria-label=\"scroll back to top\">\r\n               <KeyboardArrowUpIcon />\r\n             </Fab>\r\n             <EditDialog />\r\n           </Grid>\r\n           </ScrollTop>\r\n           </MuiThemeProvider>\r\n};\r\n\r\n\r\nexport default App;","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./js/store/index\";\r\nimport App from \"./js/components/App\";\r\n\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}